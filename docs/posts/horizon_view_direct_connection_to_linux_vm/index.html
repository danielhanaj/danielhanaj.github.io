<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Configure VMware Horizon View Direct-Connection Agent for Linux - Daniel Hanaj Blog</title><meta name="Description" content="Configure VMware Horizon View Direct-Connection Agent for Linux"><meta property="og:title" content="Configure VMware Horizon View Direct-Connection Agent for Linux" />
<meta property="og:description" content="Configure VMware Horizon View Direct-Connection Agent for Linux" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" /><meta property="og:image" content="https://danielhanaj.github.io/tn.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-30T00:00:00+00:00" /><meta property="og:site_name" content="danielhanaj.github.io" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://danielhanaj.github.io/tn.png" /><meta name="twitter:title" content="Configure VMware Horizon View Direct-Connection Agent for Linux"/>
<meta name="twitter:description" content="Configure VMware Horizon View Direct-Connection Agent for Linux"/>
<meta name="twitter:site" content="@donkojott"/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#eee5e5"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" /><link rel="prev" href="https://danielhanaj.github.io/posts/create_docker_container_with_packer/" /><link rel="next" href="https://danielhanaj.github.io/posts/ssl_handshake_failure/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Configure VMware Horizon View Direct-Connection Agent for Linux",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/danielhanaj.github.io\/posts\/horizon_view_direct_connection_to_linux_vm\/"
        },"genre": "posts","keywords": "VMware, Horizon, View Agent, Linux, Ubuntu","wordcount":  1362 ,
        "url": "https:\/\/danielhanaj.github.io\/posts\/horizon_view_direct_connection_to_linux_vm\/","datePublished": "2021-12-30T00:00:00+00:00","dateModified": "2021-12-30T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License. © All rights reserved -2018","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Danielhanaj"
            },"description": "Configure VMware Horizon View Direct-Connection Agent for Linux"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Daniel Hanaj Blog"><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="https://www.credly.com/users/daniel-hanaj" title="Certifications" rel="noopener noreffer" target="_blank"> Certifications </a><a class="menu-item" href="/about/" title="The Author"> About </a><a class="menu-item" href="https://github.com/danielhanaj" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><a class="menu-item" href="https://linkedin.com/in/danielhanaj" title="LinkedIn" rel="noopener noreffer" target="_blank"><i class='fab fa-linkedin fa-fw'></i>  </a><a class="menu-item" href="/twitter.com/donkojott" title="Twitter"><i class='fab fa-twitter fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Daniel Hanaj Blog"><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="https://www.credly.com/users/daniel-hanaj" title="Certifications" rel="noopener noreffer" target="_blank">Certifications</a><a class="menu-item" href="/about/" title="The Author">About</a><a class="menu-item" href="https://github.com/danielhanaj" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a class="menu-item" href="https://linkedin.com/in/danielhanaj" title="LinkedIn" rel="noopener noreffer" target="_blank"><i class='fab fa-linkedin fa-fw'></i></a><a class="menu-item" href="/twitter.com/donkojott" title="Twitter"><i class='fab fa-twitter fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Configure VMware Horizon View Direct-Connection Agent for Linux</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/about/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Danielhanaj</a></span>&nbsp;<span class="post-category">included in <a href="/categories/vmware/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>VMware</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2021-12-30">2021-12-30</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1362 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;7 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#vadc-for-linux---supported-platforms">VADC for Linux - Supported Platforms</a></li>
    <li><a href="#ubuntu-20043-installation">Ubuntu 20.04.3 Installation</a></li>
    <li><a href="#obtaining-vmware-horizon-view-agent-for-linux">Obtaining VMware Horizon View Agent for linux</a></li>
    <li><a href="#installing-vmware-horizon-view-agent-for-linux">Installing VMware Horizon View Agent for Linux</a></li>
    <li><a href="#installing-horizon-agent-direct-connection-for-linux">Installing Horizon Agent Direct-Connection for Linux</a></li>
    <li><a href="#adding-user-to-vmwvadc-group">Adding user to vmwvadc group</a></li>
    <li><a href="#install-horizon-view-client">Install Horizon View Client</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Silently, few days ago VMware has released View Agent Direct-Connection for Linux. In this blog post I will demonstrate how to install and configure VADC agent on Ubuntu Desktop VM.</p>
<p>View Agent Direct-Connection for Windows is available for very long time. Basically it allows direct access to remote Windows PC which has Horizon View Agent installed. It utilize dedicated protocol called VMware Blast which is optimized for transmitting high quality audio and video.</p>
<p>Great thing about VADC is that it doesn&rsquo;t require dedicated Horizon Connection Server, which means it doesn&rsquo;t require any VMware license to leverage this feature. Instead View Connection Server in Horizon View CLient, you specify VM IP addres and provide user credentials to directly connect with your remote system.</p>
<p>Until now VADC was available for Windows only. This has been changed and few days ago as VMware has released dedicated VADC agent for Linux as well.<br>
Do not miss Horizon View Agent for Linux with VADC for Linux. Horizon View Agent for Linux is available since some time, but to connect with your Linux VM you had to use Horizon Connection Server with dedicated Linux Pool created first.<br>
This is not the case anymore with new VADC for Linux.</p>
<h2 id="vadc-for-linux---supported-platforms">VADC for Linux - Supported Platforms</h2>
<p>At the time of writing fallowing Linux versions are supported by VMware:</p>
<table>
<thead>
<tr>
<th>Linux Distribution</th>
<th>Architecture</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>20.04 and 18.04	x64</td>
</tr>
<tr>
<td>Red Hat Enterprise Linux (RHEL) Workstation</td>
<td>7.2, 7.3, 7.4, 7.5, 7.6, 7.7, 7.8, 7.9, 8.0, 8.1, 8.2, and 8.3	x64</td>
</tr>
<tr>
<td>Red Hat Enterprise Linux (RHEL) Server</td>
<td>7.8, 7.9, 8.2, and 8.3	x64</td>
</tr>
<tr>
<td>CentOS</td>
<td>7.2, 7.3, 7.4, 7.5, 7.6, 7.7, 7.8, 7.9, 8.0, 8.1, 8.2, and 8.3	x64</td>
</tr>
<tr>
<td>SUSE Linux Enterprise Desktop (SLED)</td>
<td>12 SP3, 15 SP1, and 15 SP2	x64</td>
</tr>
<tr>
<td>SUSE Linux Enterprise Server (SLES)</td>
<td>12 SP3, 12 SP5, 15 SP1, and 15 SP2	x64</td>
</tr>
</tbody>
</table>
<p>Personally I have tried some non-supported version, like Xubuntu 21.10 and it didn&rsquo;t worked. During agent installation I did get a prompt that audio is not supported on this particular version, anyhow installation has been completed successfully. Then when everything was setup correctly I was able to establish remote session with VM. Unfortunately after providing password directly on VM, Horizon Client exited and session was closed.<br>
Initially thought that this was caused by unsupported Ubuntu version so  tried the same with Xubuntu 20.04.3. I didn&rsquo;t had any issues with installing both Horizon agents and didn&rsquo;t get the prompt about missing audio. Unfortunately after login into VM, same as previously, Horizon View Client exited unexpectedly.</p>
<p>I think that with some additional effort we could force non-supported Linux distributions to work but honestly didn&rsquo;t had enough time to search for the solution.<br>
I have rather focused on Ubuntu Desktop 20.04 which is officially supported by VMware.</p>
<p>For more info about system requirements and configuration go to <a href="https://docs.vmware.com/en/VMware-Horizon/2111/linux-desktops-setup/GUID-E6825232-3188-4507-B757-0CF743047282.html" target="_blank" rel="noopener noreffer ">Official VMware Documentation site</a></p>
<h2 id="ubuntu-20043-installation">Ubuntu 20.04.3 Installation</h2>
<p>Download Ubuntu Desktop 20.04.3 iso file from <a href="https://ubuntu.com/download/desktop" target="_blank" rel="noopener noreffer ">Ubuntu website</a> and perform regular OS installation on your virtualization platform.<br>
Once installed configure static IP for your VM, if you have DHCP configured in your environment, VM should pickup IP address automatically.</p>
<p>By default Ubuntu Desktop does not come with installed Open SSH server. To install SSH server and establish secure connection through terminal run fallowing:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo apt-get update
</span></span></span><span class="line"><span class="cl"><span class="go">sudo apt-get install openssh-server
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Once completed you should be able to login into VM terminal through SSH client like Putty.</p>
<p>Then paste fallowing command into terminal to install necessary packages required by Horizon View Agent for Linux:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo apt install python python-dbus python-gobject open-vm-tools-desktop
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="obtaining-vmware-horizon-view-agent-for-linux">Obtaining VMware Horizon View Agent for linux</h2>
<p>First we have to obtain VMware Horizon View agent for Linux and Horizon View Agent Direct-Connection for Linux.<br>
This will require VMware account. If you don&rsquo;t have valid VMware subscription, create one and request Horizon View trial from Customer portal. This will give you access to required files.</p>
<p>Required files are accessible only when Horizon 2111 version  will be selected, previous Horizon versions does not have VADC for Linux.</p>
<p>We need to download fallowing two files:</p>
<ul>
<li>Horizon Agent for 64-bit Linux</li>
<li>Horizon Linux Agent Direct-Connection (64 bit)
<figure><a class="lightgallery" href="/images/2021/12/30/portal1.jpg" title="/images/2021/12/30/portal1.jpg" data-thumbnail="/images/2021/12/30/portal1.jpg" data-sub-html="<h2>Figure I: VMware download portal to obtain Horizon View Agent for Linux</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/2021/12/30/portal1.jpg"
            data-srcset="/images/2021/12/30/portal1.jpg, /images/2021/12/30/portal1.jpg 1.5x, /images/2021/12/30/portal1.jpg 2x"
            data-sizes="auto"
            alt="/images/2021/12/30/portal1.jpg" />
    </a><figcaption class="image-caption">Figure I: VMware download portal to obtain Horizon View Agent for Linux</figcaption>
    </figure></li>
</ul>
<p>As you can see Horizon Linux Agent Direct-Connection has been released on 16th of December 2021, so it&rsquo;s very fresh.
<figure><a class="lightgallery" href="/images/2021/12/30/portal2.jpg" title="/images/2021/12/30/portal2.jpg" data-thumbnail="/images/2021/12/30/portal2.jpg" data-sub-html="<h2>Figure II: VMware download portal to obtain Horizon View Agent for Linux</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/2021/12/30/portal2.jpg"
            data-srcset="/images/2021/12/30/portal2.jpg, /images/2021/12/30/portal2.jpg 1.5x, /images/2021/12/30/portal2.jpg 2x"
            data-sizes="auto"
            alt="/images/2021/12/30/portal2.jpg" />
    </a><figcaption class="image-caption">Figure II: VMware download portal to obtain Horizon View Agent for Linux</figcaption>
    </figure></p>
<p>After download you should have two files downloaded:</p>
<ul>
<li>VMware-horizonagent-linux-x86_64-2111.1-8.4.0-19066680.tar.gz,  which is Horizon Agent for Linux</li>
<li>VMware-horizonagent-linux-vadc-x86_64-2111.1-8.4.0-19066680.tar.gz, which is Horizon Agent Direct-Connection for Linux</li>
</ul>
<h2 id="installing-vmware-horizon-view-agent-for-linux">Installing VMware Horizon View Agent for Linux</h2>
<p>Copy both files into /tmp directory on your Ubuntu box using WinSCP.</p>
<ol>
<li>Unpack Horizon Agent for Linux:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">   cd tmp
</span></span></span><span class="line"><span class="cl"><span class="go">   sudo tar -zxvf VMware-horizonagent-linux-x86_64-2111.1-8.4.0-19066680.tar.gz
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Once unpacked go to directory which has been created:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">   cd VMware-horizonagent-linux-x86_64-2111.1-8.4.0-19066680/
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>Install agent running fallowing command:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo ./install_viewagent.sh -a yes -S no
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Applied switches performsw audio installation (-a yes) and skipps Single Sign-On installation (-S no).</p>
</blockquote>
<ol>
<li>Accept VMware EULA and hit &ldquo;Enter&rdquo;</li>
<li>Once installed you should get fallowing prompt:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">If you have any questions or issues regarding Linux VDI, please start a discussion at https://communities.vmware.com/community/vmtn/horizon/vmware-horizon-for-linux, and we will respond to you as soon as possible.
</span></span></span><span class="line"><span class="cl"><span class="go">You must restart your system for the configuration changes made to the VMware Horizon Agent to take effect.
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">Installation done
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="installing-horizon-agent-direct-connection-for-linux">Installing Horizon Agent Direct-Connection for Linux</h2>
<p>Once Horizon View Agent for Linux has been installed, we need to install Horizon Agent Direct-Connection for Linux next.</p>
<ol>
<li>Go to upper directory and unpack second archive:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">cd ..
</span></span></span><span class="line"><span class="cl"><span class="go">sudo tar -zxvf VMware-horizonagent-linux-vadc-x86_64-2111.1-8.4.0-19066680.tar.gz
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Once unpacked go to directory which contain unpacked VADC directory:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go"> cd VMware-horizonagent-linux-vadc-x86_64-2111.1-8.4.0-19066680/
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>Install VADC agent running fallowing command:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo ./install_vadc.sh
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>Accept VMware EULA and hit &ldquo;Enter&rdquo;</li>
<li>You should get an error prompt saying that nginx is not installed:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">Installation starting...
</span></span></span><span class="line"><span class="cl"><span class="go">Begin to install Linux Agent VADC...
</span></span></span><span class="line"><span class="cl"><span class="go">Verify installation environment...
</span></span></span><span class="line"><span class="cl"><span class="go">ERROR: Missing nginx service, please install nginx first.
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>Install Nginx:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo apt-get install nginx
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>Repeat VDAC agent installation and accept VMware EULA:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo ./install_vadc.sh
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="8">
<li>You should get fallowing output on your console:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">Installation starting...
</span></span></span><span class="line"><span class="cl"><span class="go">Begin to install Linux Agent VADC...
</span></span></span><span class="line"><span class="cl"><span class="go">Verify installation environment...
</span></span></span><span class="line"><span class="cl"><span class="go">Extract VADC package...
</span></span></span><span class="line"><span class="cl"><span class="go">Configure VADC environment...
</span></span></span><span class="line"><span class="cl"><span class="go">Begin to create vmware vadc group vmwvadc
</span></span></span><span class="line"><span class="cl"><span class="go">Configure nginx service...
</span></span></span><span class="line"><span class="cl"><span class="go">Begin to restart nginx service...
</span></span></span><span class="line"><span class="cl"><span class="go">Enable 443 port in firewall...
</span></span></span><span class="line"><span class="cl"><span class="go">Restart viewagent service...
</span></span></span><span class="line"><span class="cl"><span class="go">Finish to install Linux Agent VADC.
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="adding-user-to-vmwvadc-group">Adding user to vmwvadc group</h2>
<p>Last step that needs to be done is to add local user account to vmwvadc group that has been created during VADC installation.</p>
<blockquote>
<p>Without this step we would get &ldquo;Authentication Failed, you are not entitled to use the system&rdquo; error in Horizon View Client</p>
</blockquote>
<p>In my case the user account I want to add is named &ldquo;dan&rdquo;:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">sudo usermod -aG vmwvadc dan
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="install-horizon-view-client">Install Horizon View Client</h2>
<p>To verify if connection works fine we need to install Horizon View Client on our Windows machine.<br>
You can download installation file from VMware portal, like previously with agent files, or you can use chocolatey to install it. Assuming your machine has a chocolatey installed run fallowing command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ps" data-lang="ps"><span class="line"><span class="cl"><span class="nf">choco</span> <span class="nf">install</span> <span class="nf">-y</span> <span class="nf">vmware-horizon-client</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Once completed your source Windows machine should have Horizon View Client installed.<br>
Open it and click &ldquo;+&rdquo; to add new connection server. In this case provide IP address of your Linux machine:</p>
<figure><a class="lightgallery" href="/images/2021/12/30/view_client.jpg" title="/images/2021/12/30/view_client.jpg" data-thumbnail="/images/2021/12/30/view_client.jpg" data-sub-html="<h2>Figure III: Add New Connection Server</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/2021/12/30/view_client.jpg"
            data-srcset="/images/2021/12/30/view_client.jpg, /images/2021/12/30/view_client.jpg 1.5x, /images/2021/12/30/view_client.jpg 2x"
            data-sizes="auto"
            alt="/images/2021/12/30/view_client.jpg" />
    </a><figcaption class="image-caption">Figure III: Add New Connection Server</figcaption>
    </figure>
<p>Once defined double click on newly added server and you will be prompted for username and password:<br>
<figure><a class="lightgallery" href="/images/2021/12/30/view_client1.jpg" title="/images/2021/12/30/view_client1.jpg" data-thumbnail="/images/2021/12/30/view_client1.jpg" data-sub-html="<h2>Figure IV: Connection credentials</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/2021/12/30/view_client1.jpg"
            data-srcset="/images/2021/12/30/view_client1.jpg, /images/2021/12/30/view_client1.jpg 1.5x, /images/2021/12/30/view_client1.jpg 2x"
            data-sizes="auto"
            alt="/images/2021/12/30/view_client1.jpg" />
    </a><figcaption class="image-caption">Figure IV: Connection credentials</figcaption>
    </figure></p>
<p>If everything goes well you should be prompted with user name and password. Once provided you should see fallowing screen:</p>
<figure><a class="lightgallery" href="/images/2021/12/30/view_client2.jpg" title="/images/2021/12/30/view_client2.jpg" data-thumbnail="/images/2021/12/30/view_client2.jpg" data-sub-html="<h2>Figure V: Connection</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/2021/12/30/view_client2.jpg"
            data-srcset="/images/2021/12/30/view_client2.jpg, /images/2021/12/30/view_client2.jpg 1.5x, /images/2021/12/30/view_client2.jpg 2x"
            data-sizes="auto"
            alt="/images/2021/12/30/view_client2.jpg" />
    </a><figcaption class="image-caption">Figure V: Connection</figcaption>
    </figure>
<h2 id="summary">Summary</h2>
<p>I use Horizon View Agent Direct-Connection on daily basis and I think it&rsquo;s extremely useful, especially now when Linux is also supported.<br>
Many people struggle to connect with Linux GUI remotely and this solution provide efficient and fast way to do it.<br>
Since VMware Blast is utilized, audio and video on Linux machine works really smooth.<br>
Printers, audio devices or folders from our source machine can be automatically mapped to Linux VM which can be very convenient for day to day operations.</p>
<p>Thanks for reading.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-12-30</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" data-title="Configure VMware Horizon View Direct-Connection Agent for Linux" data-via="donkojott" data-hashtags="VMware,Horizon,View Agent,Linux,Ubuntu"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" data-hashtag="VMware"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" data-title="Configure VMware Horizon View Direct-Connection Agent for Linux"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" data-title="Configure VMware Horizon View Direct-Connection Agent for Linux"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://danielhanaj.github.io/posts/horizon_view_direct_connection_to_linux_vm/" data-title="Configure VMware Horizon View Direct-Connection Agent for Linux"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/vmware/">VMware</a>,&nbsp;<a href="/tags/horizon/">Horizon</a>,&nbsp;<a href="/tags/view-agent/">View Agent</a>,&nbsp;<a href="/tags/linux/">Linux</a>,&nbsp;<a href="/tags/ubuntu/">Ubuntu</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/create_docker_container_with_packer/" class="prev" rel="prev" title="Create Docker image with Packer, PowerShell, PowerCLI and Azure DevOps self-hosted agent"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Create Docker image with Packer, PowerShell, PowerCLI and Azure DevOps self-hosted agent</a>
            <a href="/posts/ssl_handshake_failure/" class="next" rel="next" title="SSL Handshake Failure after upgrading to Cloud Director 10.5">SSL Handshake Failure after upgrading to Cloud Director 10.5<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/about/" target="_blank">Daniel Hanaj</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":80},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"id-1":"Daniel Hanaj","id-2":"Daniel Hanaj"},"lightgallery":true,"search":{"highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":0,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
